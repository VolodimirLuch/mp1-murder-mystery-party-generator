<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MP1 -- Murder Mystery Party Generator</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <header>
      <h1>MP1 -- Murder Mystery Party Generator</h1>
      <p>Create a complete murder mystery party kit in minutes.</p>
    </header>

    <main>
      <section class="card">
        <h2>Step 1: Players</h2>
        <div class="grid">
          <label>
            Player count (4-20)
            <input id="playerCount" type="number" min="4" max="20" value="6" />
          </label>
          <label>
            Player names (comma-separated, optional)
            <input id="playerNames" type="text" placeholder="Avery, Blake, Cameron" />
          </label>
          <label>
            Seed (optional)
            <input id="seedInput" type="number" placeholder="Leave blank for random" />
          </label>
          <label>
            Share code (optional)
            <input id="shareCodeInput" type="text" placeholder="Paste to load" />
          </label>
        </div>
        <div class="actions">
          <button id="loadShareCode">Load from Share Code</button>
        </div>
      </section>

      <section class="card">
        <h2>Step 2: Theme</h2>
        <div id="categoryList" class="category-grid"></div>
        <div class="actions">
          <button id="surpriseMe">Surprise Me</button>
        </div>
      </section>

      <section class="card">
        <h2>Step 3: Options</h2>
        <div class="grid">
          <label>
            Tone
            <select id="toneSelect">
              <option value="suspense">Suspense</option>
              <option value="serious">Serious</option>
              <option value="comedy">Comedy</option>
            </select>
          </label>
          <label>
            Duration
            <select id="durationSelect">
              <option value="45">45 minutes</option>
              <option value="60" selected>60 minutes</option>
              <option value="90">90 minutes</option>
            </select>
          </label>
        </div>
      </section>

      <section class="card">
        <h2>Step 4: Generate + Results</h2>
        <div class="actions">
          <button id="generateBtn" class="primary">Generate Game</button>
          <button id="regenerateBtn" disabled>Regenerate</button>
          <button id="exportBtn" disabled>Export JSON</button>
          <button id="copyShareBtn" disabled>Copy Share Code</button>
        </div>
        <div id="status" class="status"></div>
        <div id="spinner" class="spinner hidden"></div>
      </section>

      <section id="results" class="card hidden">
        <h2>Results</h2>
        <div class="meta">
          <p><strong>Title:</strong> <span id="gameTitle"></span></p>
          <p><strong>Theme:</strong> <span id="themeSummary"></span></p>
          <div class="share-code-row">
            <strong>Share Code:</strong>
            <div id="shareCodeDisplay" class="share-code"></div>
            <button id="copyShareInline">Copy Share Code</button>
          </div>
        </div>

        <div class="split">
          <div>
            <h3>Story Overview</h3>
            <div id="storyline"></div>
            <h3>Timeline</h3>
            <ul id="timeline"></ul>
          </div>
          <div>
            <h3>How to Play</h3>
            <ol id="howToPlay"></ol>
            <h3>Props List</h3>
            <ul id="propsList"></ul>
          </div>
        </div>

        <div class="player-view">
          <h3>Player View</h3>
          <label>
            Choose character
            <select id="characterSelect"></select>
          </label>
          <div id="characterPacket" class="packet"></div>
        </div>

        <div class="host-view">
          <h3>Host View</h3>
          <button id="hostToggle">I am the host</button>
          <div id="hostContent" class="hidden">
            <button id="revealSolution">Reveal Solution</button>
            <div id="solutionContent" class="hidden"></div>
          </div>
        </div>
      </section>
    </main>

    <script src="/static/app.js"></script>
  </body>
</html>
